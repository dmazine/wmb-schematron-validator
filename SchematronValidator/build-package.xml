<?xml version="1.0" encoding="UTF-8"?>

<project name="com.ibm.broker.schematron.SchematronValidator" default="package" basedir=".">

	<!-- Project name -->
	<property name="project.name" value="${ant.project.name}" />

	<!-- Project version -->
	<property name="project.version" value="1.0.0" />

	<!-- Source directory -->
	<property name="project.build.sourceDirectory" value="${basedir}/src/main/java" />

	<!-- Library directory -->
	<property name="project.build.libraryDirectory" value="${basedir}/lib" />

	<!-- Build directory -->
	<property name="project.build.directory" value="${basedir}/target" />

	<!-- Output directory -->
	<property name="project.build.outputDirectory" value="${project.build.directory}/classes" />

	<!-- Final name -->
	<property name="project.build.finalName" value="${project.build.directory}/${project.name}-${project.version}.par" />

	<!-- Removes all files generated by the previous build -->
	<target name="clean" description="Removes all files generated by the previous build">
		<delete file="${project.build.finalName}" />
	</target>

	<!-- Takes the compiled code and package it -->
	<target name="package" description="Takes the compiled code and package it" depends="clean">
		<tempfile property="package.outputDirectory" prefix="${project.name}" destDir="${java.io.tmpdir}" />
		<copy todir="${package.outputDirectory}/classes">
			<fileset dir="${project.build.outputDirectory}" />
		</copy>
		<copy todir="${package.outputDirectory}/lib">
			<fileset dir="${project.build.libraryDirectory}" />
		</copy>
		<jar jarfile="${project.build.finalName}">
			<fileset dir="${package.outputDirectory}" />
		</jar>
		<delete dir="${package.outputDirectory}" />
	</target>

</project>